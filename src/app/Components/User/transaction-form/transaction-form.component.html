<section class="" [formGroup]="transactionForm">
  <div class="d-flex justify-content-center align-items-center mt-5 me-4">
    <form class="px-5 rounded-5 border d-flex justify-content-center py-3 w-100" >
      <div class="w-100">
        <h2 class="text-center bg-dark text-white w-100 rounded py-2" >Transaction Form</h2>
        <!-- Income and Expense Buttons -->
        <div class="row mt-3">
          <div class="ps-3">
            <p>Enter Type Of Transaction</p>
          </div>
          <div class=" ps-3">
            <div class="form-check">
              <input class="form-check-input" type="radio"  [value]="1" id="flexRadioDefault1" formControlName ="TransactionTypeId" (change)="changeType('Income')">
              <label class="form-check-label" for="flexRadioDefault1">
                Income
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio"  [value]="2" id="flexRadioDefault2" formControlName ="TransactionTypeId" (change)="changeType('Expense')">
              <label class="form-check-label" for="flexRadioDefault2">
                Expense
              </label>
            </div>
          </div>
          <p
          *ngIf="transactionForm.get('TransactionTypeId')?.hasError('required') && transactionForm.get('TransactionTypeId')?.touched"
          class="text-danger ">kindly enter the Transaction Type </p>
        </div>

        <!-- Category Select -->
        <div class="mt-3" *ngIf="categoryTypeIncome">
          <label for="category-select">Enter Category</label>
          <select id="category-select" class="form-select" aria-label="Default select example" formControlName="CategoryId">
            <option selected>None</option>
            <option [value]="i.categoryId" *ngFor="let i of incomeCategory">{{i.categoryName}}</option>
          </select>
          <p
          *ngIf="transactionForm.get('CategoryId')?.hasError('required') && transactionForm.get('CategoryId')?.touched"
          class="text-danger ">Kindly enter Category</p>
        </div>

        <div class="mt-3" *ngIf="categoryTypeExpense">
          <label for="category-select">Enter Category</label>
          <select id="category-select" class="form-select" aria-label="Default select example" formControlName="CategoryId">
            <option selected>None</option>
            <option [value]="i.categoryId" *ngFor="let i of expenseCategory">{{i.categoryName}}</option>
          </select>
          <p
          *ngIf="transactionForm.get('CategoryId')?.hasError('required') && transactionForm.get('CategoryId')?.touched"
          class="text-danger ">kindly enter the Category</p>
        </div>

        <!-- Amount Input -->
        <div class="mt-3">
          <label for="amount-input">Amount</label>
          <div class="input-group mb-3 w-100">
            <span class="input-group-text">PKR</span>
            <input id="amount-input" type="text" placeholder="Enter Amount" class="form-control" aria-label="Dollar amount (with dot and two decimal places)" formControlName="Amount">
          </div>
          <p
          *ngIf="transactionForm.get('Amount')?.hasError('required') && transactionForm.get('Amount')?.touched"
          class="text-danger ">Kindly enter the Amount</p>
        </div>


        <!-- Description Textarea -->
        <label for="description-textarea" class="mt-3">Description</label>
        <div class="d-flex justify-content-center ">
          <div class="form-floating w-100">
            <textarea id="description-textarea" class="form-control" placeholder="Enter Description" style="height: 100px;" formControlName="Description"></textarea>
          </div>
        </div>
        <p
        *ngIf="transactionForm.get('Description')?.hasError('required') && transactionForm.get('Description')?.touched"
        class="text-danger ">Kindly enter the Description</p>
        <div class="mt-3 d-flex justify-content-end">
          <button class="btn btn bg-warning" (click)="submitForm()">Submit</button>
        </div>
      </div>
    </form>
  </div>
</section>
